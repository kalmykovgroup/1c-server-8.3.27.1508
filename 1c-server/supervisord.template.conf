[unix_http_server]
file=/home/${ONEC_USER}/supervisor.sock
chmod=0700
chown=${ONEC_USER}:${ONEC_GROUP}   # üëà –≠–¢–û –¥–æ–±–∞–≤—å

[supervisord]
user=root
logfile=${LOG_DIR}/supervisord.log
pidfile=/var/run/supervisord.pid
childlogdir=${LOG_DIR}
nodaemon=true
logfile_maxbytes=50MB
logfile_backups=10
loglevel=info
chown=${ONEC_USER}:${ONEC_GROUP}
chmod=0770
umask=002
directory=/home/${ONEC_USER}

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[supervisorctl]
serverurl=unix:///home/${ONEC_USER}/supervisor.sock
chmod=0770

##############################################
# üîÅ ragent ‚Äî –∞–≥–µ–Ω—Ç —Å–µ—Ä–≤–µ—Ä–∞
[program:ragent]
command=${BIN}/start-ragent.sh
user=${ONEC_USER}
autostart=true
autorestart=false
startsecs=2
startretries=3
priority=10
stdout_logfile=${LOG_DIR}/ragent.out.log
stderr_logfile=${LOG_DIR}/ragent.err.log

##############################################
# üîÅ ras ‚Äî —Å–ª—É–∂–±–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è (–∂–¥—ë—Ç rmngr)
[program:ras]
command=bash -c "until nc -z localhost 1541; do echo '‚è≥ –û–∂–∏–¥–∞–µ–º rmngr...'; sleep 1; done && ${PATH_TO_1C}/ras cluster --port=1545 --monitor-port=1555"
user=${ONEC_USER}
autostart=true
autorestart=false
startsecs=10
startretries=3
priority=20
stdout_logfile=${LOG_DIR}/ras.out.log
stderr_logfile=${LOG_DIR}/ras.err.log

##############################################
# üü° rmngr ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –∫–ª–∞—Å—Ç–µ—Ä–∞
[program:rmngr]
command=${PATH_TO_1C}/rmngr -d ${DATA} -port 1541 -regport 1541 -range 1560:1591
user=${ONEC_USER}
autostart=false
autorestart=false
startsecs=10
startretries=3
stdout_logfile=${LOG_DIR}/rmngr.out.log
stderr_logfile=${LOG_DIR}/rmngr.err.log

##############################################
# üü° rphost ‚Äî —Ä–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
[program:rphost]
command=${PATH_TO_1C}/rphost -regport 1541 -d ${DATA}
user=${ONEC_USER}
autostart=false
autorestart=false
startsecs=5
startretries=3
stdout_logfile=${LOG_DIR}/rphost.out.log
stderr_logfile=${LOG_DIR}/rphost.err.log

##############################################
# ‚öôÔ∏è init-cluster
[program:init-cluster]
command=${BIN}/init-cluster.sh
user=${ONEC_USER}
autostart=true
autorestart=false
startsecs=0
priority=90
stdout_logfile=${LOG_DIR}/init-cluster.out.log
stderr_logfile=${LOG_DIR}/init-cluster.err.log

##############################################
# ‚öôÔ∏è init-server
[program:init-server]
command=${BIN}/init-server.sh
user=${ONEC_USER}
autostart=true
autorestart=false
startsecs=0
priority=190
stdout_logfile=${LOG_DIR}/init-server.out.log
stderr_logfile=${LOG_DIR}/init-server.err.log

##############################################
# ‚öôÔ∏è init-ib
[program:init-ib]
command=${BIN}/init-ib.sh
user=${ONEC_USER}
autostart=true
autorestart=false
startsecs=0
priority=290
stdout_logfile=${LOG_DIR}/init-ib.out.log
stderr_logfile=${LOG_DIR}/init-ib.err.log

 
[program:init-web]
command=${BIN}/init-web.sh
user=root 
autostart=true
autorestart=false
startsecs=0
priority=390
stdout_logfile=${LOG_DIR}/init-web.out.log
stderr_logfile=${LOG_DIR}/init-web.err.log

[program:apache2]
command=/usr/sbin/apachectl -D FOREGROUND
user=root
autostart=true
autorestart=true
stderr_logfile=/var/log/apache2/apache2.err.log
stdout_logfile=/var/log/apache2/apache2.out.log

[program:vncserver]
command=${BIN}/start-vnc.sh
user=${ONEC_USER}  
autostart=true
autorestart=true
startsecs=5
startretries=3
stdout_logfile=${LOG_DIR}/vnc.out.log
stderr_logfile=${LOG_DIR}/vnc.err.log 


 
